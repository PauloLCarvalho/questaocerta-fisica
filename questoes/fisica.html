<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Física - Questão Certa</title>
  <link rel="stylesheet" href="../style.css">
  <style>
    :root {
      --verde: #23FA0F;
      --laranja: #FAA40F;
      --azul: #0E70FA;
      --rosa: #FA0FA2;
      --azul-escuro: #416BA5;
      --verde-escuro: #407A45;
      --cinza: #f0f0f0;
      --fonte-tamanho: 0.8rem;
    }

    body {
      background: var(--cinza);
      color: #2c3e50;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      margin: 0;
      padding: 20px;
      line-height: 1.7;
      font-size: var(--fonte-tamanho);
      position: relative;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 15px;
      border-bottom: 2px solid var(--azul);
    }

    .header h1 {
      color: var(--azul);
      font-size: 1.6rem;
      margin: 0;
      font-weight: 700;
    }

    .btn-voltar {
      background: var(--azul-escuro);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 0.8rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      text-decoration: none;
      display: inline-block;
    }

    .btn-voltar:hover {
      background: #355a8a;
      transform: translateY(-2px);
    }

    /* MATRIZ DE PROGRESSO - FIXA, FORA DO CONTAINER */
    .progresso-matrix {
      position: fixed;
      top: 20px;
      left: 20px;
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
      z-index: 1000;
      background: rgba(255, 255, 255, 0.95);
      padding: 14px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
      backdrop-filter: blur(5px);
      max-width: 180px;
    }

    .bolinha {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: #e0e0e0;
      border: 2px solid #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: bold;
      color: #666;
      transition: all 0.3s;
    }

    .bolinha.correta {
      background: var(--verde);
      border-color: var(--verde-escuro);
      color: white;
    }

    .bolinha.errada {
      background: var(--rosa);
      border-color: #d32f2f;
      color: white;
    }

    .questao {
      margin-bottom: 40px;
      padding: 28px;
      border: 1px solid #ddd;
      border-radius: 12px;
      background: #fafafa;
    }

    .questao-numero {
      font-weight: bold;
      color: var(--azul);
      font-size: 0.96rem;
      margin-bottom: 15px;
    }

    .enunciado {
      margin-bottom: 20px;
      font-size: 0.84rem;
    }

    .alternativas {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .alternativa {
      margin: 14px 0;
      display: flex;
      align-items: center;
      gap: 12px;
      transition: all 0.2s;
    }

    .alternativa:hover {
      background: #e8f4ff;
      border-radius: 8px;
      padding: 6px 0;
    }

    .eliminar-btn, .selecionar-btn {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 0.72rem;
      cursor: pointer;
      transition: all 0.3s;
      user-select: none;
      flex-shrink: 0;
    }

    .eliminar-btn {
      background: #fff;
      border: 2px solid #ccc;
      color: #999;
    }

    .eliminar-btn.eliminado {
      background: var(--rosa);
      color: white;
      border-color: var(--rosa);
    }

    .selecionar-btn {
      background: #fff;
      border: 2px solid #ccc;
      color: #999;
    }

    .selecionar-btn.selecionado {
      background: var(--laranja);
      color: white;
      border-color: var(--laranja);
      box-shadow: 0 0 8px rgba(250, 164, 15, 0.4);
    }

    .texto-alternativa {
      flex: 1;
      transition: all 0.3s;
      font-size: 0.84rem;
    }

    .eliminado .texto-alternativa {
      text-decoration: line-through;
      opacity: 0.5;
      color: #999;
    }

    .btn-responder {
      background: var(--laranja);
      color: white;
      border: none;
      padding: 12px 28px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 18px;
      font-size: 0.8rem;
      transition: all 0.3s;
      box-shadow: 0 3px 10px rgba(250, 164, 15, 0.3);
    }

    .btn-responder:hover:not(:disabled) {
      background: #e69500;
      transform: translateY(-2px);
    }

    .btn-responder:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .btn-dica {
      background: var(--azul);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 0.72rem;
      cursor: pointer;
      margin-top: 10px;
      transition: all 0.3s;
    }

    .btn-dica:hover {
      background: #0d5cc7;
    }

    .dica {
      margin-top: 12px;
      padding: 12px;
      background: #e3f2fd;
      border-left: 4px solid var(--azul);
      border-radius: 0 8px 8px 0;
      font-size: 0.76rem;
      color: #1565c0;
      display: none;
    }

    .dica.mostrando {
      display: block;
    }

    .resposta {
      margin-top: 18px;
      padding: 14px;
      border-radius: 8px;
      font-weight: bold;
      display: none;
      font-size: 0.88rem;
    }

    .correto {
      background: #d4edda;
      color: var(--verde-escuro);
      border: 1px solid var(--verde-escuro);
    }

    .errado {
      background: #f8d7da;
      color: var(--rosa);
      border: 1px solid var(--rosa);
    }

    /* RESPONSIVIDADE */
    @media (max-width: 768px) {
      .progresso-matrix {
        grid-template-columns: 1fr;
        top: 10px;
        left: 10px;
        gap: 6px;
        padding: 10px;
        max-width: 50px;
      }
      .bolinha {
        width: 22px;
        height: 22px;
        font-size: 0.7rem;
      }
      .container {
        padding: 20px;
        margin-left: 60px;
      }
      .header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
      .btn-voltar {
        font-size: 0.75rem;
        padding: 8px 16px;
      }
    }

    @media (max-width: 480px) {
      .container {
        margin-left: 55px;
      }
    }
  </style>
</head>
<body>
  <!-- MATRIZ FIXA FORA DO CONTAINER -->
  <div class="progresso-matrix" id="progresso"></div>

  <div class="container">
    <div class="header">
      <h1>Física</h1>
      <a href="../dashboard.html" class="btn-voltar">Voltar ao Dashboard</a>
    </div>

    <!-- QUESTÃO 1 -->
    <div class="questao" id="q0">
      <div class="questao-numero">Questão 1 (UNICENTRO)</div>
      <div class="enunciado">
        Uma ducha elétrica, com três opções de temperatura, dissipa os seguintes valores de potência: P1 = 3.300 W, P2 = 4.700 W e P3 = 5.500 W. Para alterar a potência, há um seletor deslizante que, conforme a posição, desliga parte do comprimento do resistor da ducha. Se ℓ₁ é o comprimento do resistor, quando a potência dissipada é P1, e ℓ₂ e ℓ₃ são os respectivos comprimentos relativos a P2 e P3, assinale a alternativa que apresenta, correta e respectivamente, em qual posição do seletor o comprimento do resistor é maior e qual a proporção entre os outros dois comprimentos em relação a este.
      </div>
      <div class="alternativas" id="alt0"></div>
      <button class="btn-dica" onclick="mostrarDica(0)">Dica do Professor</button>
      <div class="dica" id="dica0">
        <strong>Dica:</strong> Potência menor → resistência maior → comprimento maior. P1 é a menor → ℓ₁ é o maior.
      </div>
      <button class="btn-responder" onclick="verificar(0)">Responder</button>
      <div class="resposta" id="r0"></div>
    </div>

    <!-- QUESTÃO 2 -->
    <div class="questao" id="q1">
      <div class="questao-numero">Questão 2 (UNESPAR)</div>
      <div class="enunciado">
        As Fake News, também denominadas de pós-verdade, notícias fabricadas, têm se tornado um problema social com prejuízos principalmente na saúde, política e economia. Este tipo de notícia tem sido pauta de pesquisas ao redor do mundo devido ao seu poder de modificar o comportamento social. A exemplo disto, recentemente foi divulgado um estudo que aponta que as Fake News sobre temperaturas corporais estão sendo feridas por um termômetro infravermelho, apontando-o para a testa de todo indivíduo que adentrasse num estabelecimento comercial, igreja, escola, etc. Em algumas regiões do Brasil, afirmações falsas alertavam sobre os perigos desta prática, alegando que os raios infravermelhos emitidos pelo termômetro poderiam causar danos à glândula pineal, levando o indivíduo para o braço ou mão. Apesar destes termômetros fornecerem uma temperatura mais baixa, quando comparada com a temperatura obtida pelo termômetro de bulbo, (da ordem de 1 °C) este procedimento é aceito como verificação primária em casos de triagem. O corpo humano é uma fonte permanente de calor. Sua funcionalidade depende da manutenção de uma temperatura de, aproximadamente, 36,5 °C. Este valor tende a ser o mesmo em qualquer parte do corpo, porém, por questões biológicas, como mecanismos homeostáticos que controlam a dissipação de calor, é comum as extremidades apresentarem valores ligeiramente inferiores (média de 33 °C). A temperatura do corpo humano é um índice supervisado 24 horas, pode ser considerado um estado patológico. Geralmente, a febre representa aumento da atividade metabólica para combater um invasor maligno.

        Sobre o funcionamento de um termômetro infravermelho, assinale a alternativa CORRETA:
      </div>
      <div class="alternativas" id="alt1"></div>
      <button class="btn-dica" onclick="mostrarDica(1)">Dica do Professor</button>
      <div class="dica" id="dica1">
        <strong>Dica:</strong> O termômetro <strong>não emite</strong> infravermelho — ele <strong>detecta</strong> a radiação emitida pelo corpo.
      </div>
      <button class="btn-responder" onclick="verificar(1)">Responder</button>
      <div class="resposta" id="r1"></div>
    </div>
  </div>

  <script>
    const questoes = [
      {
        id: "1",
        materia: "fisica",
        correta: 4,
        alternativas: [
          "ℓ₁ tem o maior comprimento, ℓ₂ tem 86% do comprimento de ℓ₁ e ℓ₃ tem 42%.",
          "ℓ₁ tem o maior comprimento, ℓ₂ tem 70% do comprimento de ℓ₁ e ℓ₃ tem 60%.",
          "ℓ₂ tem o maior comprimento, ℓ₁ tem 85% do comprimento de ℓ₂ e ℓ₃ tem 70%.",
          "ℓ₃ tem o maior comprimento, ℓ₂ tem 85% do comprimento de ℓ₃ e ℓ₁ tem 60%.",
          "ℓ₃ tem o maior comprimento, ℓ₂ tem 70% do comprimento de ℓ₃ e ℓ₁ tem 60%."
        ],
        dica: "Potência menor → resistência maior → comprimento maior. P1 é a menor → ℓ₁ é o maior."
      },
      {
        id: "2",
        materia: "fisica",
        correta: 4,
        alternativas: [
          "O termômetro infravermelho emite um raio laser na cor vermelha para captar o calor emitido pelo corpo humano.",
          "O termômetro infravermelho mede a temperatura emitida pelo corpo humano por meio da emissão da sua luz vermelha.",
          "A luz vermelha, emitida pelo termômetro infravermelho, sinaliza o local exato da tomada de medida da radiação ionizante, emitida pelo corpo humano.",
          "O termômetro infravermelho mede a temperatura corporal do corpo humano por meio da emissão de raios X.",
          "Os termômetros infravermelhos têm sensores capazes de detectar a energia radiante do corpo humano, utilizando o efeito fotoelétrico."
        ],
        dica: "O termômetro não emite infravermelho — ele detecta a radiação emitida pelo corpo."
      }
    ];

    const total = questoes.length;
    let acertos = 0;
    const selecionadas = Array(total).fill(-1);

    function renderizarAlternativas() {
      questoes.forEach((q, i) => {
        const letras = ['A', 'B', 'C', 'D', 'E'];
        const container = document.getElementById(`alt${i}`);
        container.innerHTML = '';

        const indices = [0, 1, 2, 3, 4].sort(() => Math.random() - 0.5);

        indices.forEach((idx, pos) => {
          const div = document.createElement('div');
          div.className = 'alternativa';
          div.dataset.q = i;
          div.dataset.alt = pos;
          div.innerHTML = `
            <div class="eliminar-btn" onclick="toggleEliminate(this, ${i}, ${pos})">X</div>
            <div class="selecionar-btn" onclick="selecionarResposta(this, ${i}, ${pos})">${letras[pos]}</div>
            <div class="texto-alternativa">${q.alternativas[idx]}</div>
          `;
          container.appendChild(div);
        });

        q.map = indices;
      });
    }

    function criarMatriz() {
      const matrix = document.getElementById('progresso');
      matrix.innerHTML = '';
      for (let i = 0; i < total; i++) {
        const bol = document.createElement('div');
        bol.className = 'bolinha';
        bol.textContent = i + 1;
        bol.dataset.q = i;
        matrix.appendChild(bol);
      }
    }

    function atualizarBolinha(qIndex, status) {
      const bol = document.querySelector(`.bolinha[data-q="${qIndex}"]`);
      bol.className = `bolinha ${status}`;
    }

    function toggleEliminate(btn, qIndex, altIndex) {
      event.stopPropagation();
      const alt = btn.parentElement;
      if (selecionadas[qIndex] === altIndex) {
        alert("Você não pode eliminar uma alternativa selecionada!");
        return;
      }
      const isEliminado = alt.classList.toggle('eliminado');
      btn.classList.toggle('eliminado', isEliminado);
    }

    function selecionarResposta(btn, qIndex, altIndex) {
      event.stopPropagation();
      const alt = btn.parentElement;
      const eliminarBtn = alt.querySelector('.eliminar-btn');

      if (selecionadas[qIndex] !== -1 && selecionadas[qIndex] !== altIndex) {
        const prev = document.querySelector(`.alternativa[data-q="${qIndex}"][data-alt="${selecionadas[qIndex]}"]`);
        prev.querySelector('.selecionar-btn').classList.remove('selecionado');
      }

      if (selecionadas[qIndex] === altIndex) {
        btn.classList.remove('selecionado');
        selecionadas[qIndex] = -1;
        return;
      }

      if (alt.classList.contains('eliminado')) {
        alt.classList.remove('eliminado');
        eliminarBtn.classList.remove('eliminado');
      }

      btn.classList.add('selecionado');
      selecionadas[qIndex] = altIndex;
    }

    function mostrarDica(qIndex) {
      const dica = document.getElementById(`dica${qIndex}`);
      dica.classList.toggle('mostrando');
    }

    function verificar(qIndex) {
      if (selecionadas[qIndex] === -1) {
        alert("Selecione uma alternativa!");
        return;
      }

      const q = questoes[qIndex];
      const respostaReal = q.map[selecionadas[qIndex]];
      const correta = q.correta;
      const resp = document.getElementById(`r${qIndex}`);
      const btn = document.querySelectorAll('.btn-responder')[qIndex];

      btn.disabled = true;
      resp.style.display = 'block';

      if (respostaReal === correta) {
        resp.innerHTML = "Correto!";
        resp.className = 'resposta correto';
        acertos++;
        atualizarBolinha(qIndex, 'correta');

        // REMOVER DA LISTA DE ERROS (se estiver)
        let erros = JSON.parse(localStorage.getItem('erros')) || [];
        erros = erros.filter(e => !(e.materia === q.materia && e.qid === q.id));
        localStorage.setItem('erros', JSON.stringify(erros));

        // ADICIONAR AOS ACERTOS
        let acertosList = JSON.parse(localStorage.getItem('acertos')) || [];
        if (!acertosList.some(e => e.materia === q.materia && e.qid === q.id)) {
          acertosList.push({ materia: q.materia, qid: q.id });
          localStorage.setItem('acertos', JSON.stringify(acertosList));
        }

      } else {
        const letraCorreta = String.fromCharCode(65 + q.map.indexOf(correta));
        resp.innerHTML = `Errado! Resposta correta: ${letraCorreta}`;
        resp.className = 'resposta errado';
        atualizarBolinha(qIndex, 'errada');

        // SALVAR ERRO AUTOMATICAMENTE
        let erros = JSON.parse(localStorage.getItem('erros')) || [];
        const jaExiste = erros.some(e => e.materia === q.materia && e.qid === q.id);
        if (!jaExiste) {
          erros.push({ materia: q.materia, qid: q.id });
          localStorage.setItem('erros', JSON.stringify(erros));
        }
      }
    }

    window.onload = () => {
      renderizarAlternativas();
      criarMatriz();
    };
  </script>
</body>
</html>